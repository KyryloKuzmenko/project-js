import{i as l}from"./assets/vendor-ad859c2f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();function f(o,e){const c="L6DfZAiGwsspJd4cvUrj1Vf1mjnqIGAcaSeAWdUf3Fo",i="https://api.unsplash.com",t="/search/photos",r=new URLSearchParams({client_id:c,query:o,page:e,per_page:12,orientation:"portrait"});return fetch(`${i}${t}?${r}`).then(s=>{if(!s.ok)throw new Error(s.status);return s.json()})}const p=document.querySelector(".js-search-form"),a=document.querySelector(".js-gallery"),m=document.querySelector(".loader"),u=document.querySelector(".js-load-more");function h(o){return o.map(e=>`<li class='gallery__item'>
        <img src='${e.urls.small}' alt='${e.alt_description}' class='gallery-img'/>`).join("")}function g(){m.classList.remove("is-hidden")}function y(){m.classList.add("is-hidden")}function L(){u.classList.remove("is-hidden")}function S(){u.classList.add("is-hidden")}let n=1,d=null;p.addEventListener("submit",o=>{o.preventDefault(),a.innerHTML="",g(),n=1,d=o.currentTarget.elements["user-search-query"].value.trim(),f(d,n).then(e=>{e.total>0&&l.success({position:"topRight",message:`We find ${e.total} photos`}),e.results.length===0&&l.error({position:"topRight",message:"Sorry, there are not images"}),a.innerHTML=h(e.results),e.total>12&&L()}).catch(e=>console.log(e)).finally(()=>{o.target.reset(),y()})});u.addEventListener("click",()=>{n++,f(d,n).then(o=>{a.insertAdjacentHTML("beforeend",h(o.results));const e=Math.ceil(o.total/12);n===e&&(S(),l.info({position:"topRight",message:"Sorry, but you've reached the end of results"}))})});
//# sourceMappingURL=commonHelpers.js.map
