import{i as h}from"./assets/vendor-ad859c2f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();function u(o,t){const c="L6DfZAiGwsspJd4cvUrj1Vf1mjnqIGAcaSeAWdUf3Fo",n="https://api.unsplash.com",e="/search/photos",r=new URLSearchParams({client_id:c,query:o,page:t,per_page:12,orientation:"portrait"});return fetch(`${n}${e}?${r}`).then(s=>{if(!s.ok)throw new Error(s.status);return s.json()})}const p=document.querySelector(".js-search-form"),l=document.querySelector(".js-gallery"),d=document.querySelector(".loader"),f=document.querySelector(".js-load-more");function m(o){return o.map(t=>`<li class='gallery__item'>
        <img src='${t.urls.small}' alt='${t.alt_description}' class='gallery-img'/>`).join("")}function g(){d.classList.remove("is-hidden")}function y(){d.classList.add("is-hidden")}function L(){f.classList.remove("is-hidden")}let i=1,a=null;p.addEventListener("submit",o=>{o.preventDefault(),l.innerHTML="",g(),i=1,a=o.currentTarget.elements["user-search-query"].value.trim(),u(a,i).then(t=>{t.results.length===0&&h.error({position:"topRight",message:"Sorry, there are not images"}),l.innerHTML=m(t.results),t.total>12&&L()}).catch(t=>console.log(t)).finally(()=>{o.target.reset(),y()})});f.addEventListener("click",()=>{i++,u(a,i).then(o=>{l.insertAdjacentHTML("beforeend",m(o.results))})});
//# sourceMappingURL=commonHelpers.js.map
